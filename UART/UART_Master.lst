CCS PCM C Compiler, Version 4.104, 5967               13-Nov-23 22:17

               Filename: D:\UNIVERSITY\NAM_4_2023_2024\HKI\DA_KTDK\CODE_TEST\UART\UART_Master.lst

               ROM used: 327 words (4%)
                         Largest free fragment is 2048
               RAM used: 8 (2%) at main() level
                         11 (3%) worst case
               Stack:    1 locations

*
0000:  MOVLW  00
0001:  MOVWF  0A
0002:  GOTO   0A9
0003:  NOP
.................... #include <16F887.h> 
.................... //////// Standard Header file for the PIC16F887 device //////////////// 
.................... #device PIC16F887 
.................... #list 
....................  
.................... #include <def_887.h> 
.................... // register definitions 
....................  
.................... #define W 0 
.................... #define F 1 
....................  
.................... // register files 
.................... #byte INDF          =0x00 
.................... #byte TMR0          =0x01 
.................... #byte PCL           =0x02 
.................... #byte STATUS        =0x03 
.................... #byte FSR           =0x04 
.................... #byte PORTA         =0x05 
.................... #byte PORTB         =0x06 
.................... #byte PORTC         =0x07 
.................... #byte PORTD         =0x08 
.................... #byte PORTE         =0x09 
....................  
.................... #byte EEDATA        =0x10C 
.................... #byte EEADR         =0x10D 
.................... #byte EEDATH        =0x10E 
.................... #byte EEADRH         =0x10F 
.................... #byte ADCON0     =0x1F 
.................... #byte ADCON1     =0x9F 
.................... #byte ADRESH     =0x9F 
.................... #byte ADSESL     =0x9F 
....................  
.................... #byte PCLATH        =0x0a 
.................... #byte INTCON        =0x0b 
.................... #byte PIR1    =0x0c 
.................... #byte PIR2    =0x0d 
.................... #byte PIE1    =0x8c 
.................... #byte PIE2    =0x8d 
....................  
.................... #byte OPTION_REG    =0x81 
.................... #byte TRISA         =0x85 
.................... #byte TRISB         =0x86 
.................... #byte TRISC         =0x87 
.................... #byte TRISD         =0x88 
.................... #byte TRISE         =0x89 
....................  
.................... #byte EECON1        =0x18C 
.................... #byte EECON2        =0x18D 
....................  
.................... //DINH NGHIA BIT 
.................... #bit ra5   =0x05.5 
.................... #bit ra4   =0x05.4 
.................... #bit ra3   =0x05.3 
.................... #bit ra2   =0x05.2 
.................... #bit ra1   =0x05.1 
.................... #bit ra0   =0x05.0 
....................  
.................... #bit rb7   =0x06.7 
.................... #bit rb6   =0x06.6 
.................... #bit rb5   =0x06.5 
.................... #bit rb4   =0x06.4 
.................... #bit rb3   =0x06.3 
.................... #bit rb2   =0x06.2 
.................... #bit rb1   =0x06.1 
.................... #bit rb0   =0x06.0 
....................  
.................... #bit rC7   =0x07.7 
.................... #bit rC6   =0x07.6 
.................... #bit rC5   =0x07.5 
.................... #bit rC4   =0x07.4 
.................... #bit rC3   =0x07.3 
.................... #bit rC2   =0x07.2 
.................... #bit rC1   =0x07.1 
.................... #bit rC0   =0x07.0 
....................  
.................... #bit rD7   =0x08.7 
.................... #bit rD6   =0x08.6 
.................... #bit rD5   =0x08.5 
.................... #bit rD4   =0x08.4 
.................... #bit rD3   =0x08.3 
.................... #bit rD2   =0x08.2 
.................... #bit rD1   =0x08.1 
.................... #bit rD0   =0x08.0 
....................  
.................... #bit rE2   =0x09.2 
.................... #bit rE1   =0x09.1 
.................... #bit rE0   =0x09.0 
....................  
....................  
.................... #bit trisa5   =0x85.5 
.................... #bit trisa4   =0x85.4 
.................... #bit trisa3   =0x85.3 
.................... #bit trisa2   =0x85.2 
.................... #bit trisa1   =0x85.1 
.................... #bit trisa0   =0x85.0 
....................  
.................... #bit trisb7   =0x86.7 
.................... #bit trisb6   =0x86.6 
.................... #bit trisb5   =0x86.5 
.................... #bit trisb4   =0x86.4 
.................... #bit trisb3   =0x86.3 
.................... #bit trisb2   =0x86.2 
.................... #bit trisb1   =0x86.1 
.................... #bit trisb0   =0x86.0 
....................  
.................... #bit trisc7   =0x87.7 
.................... #bit trisc6   =0x87.6 
.................... #bit trisc5   =0x87.5 
.................... #bit trisc4   =0x87.4 
.................... #bit trisc3   =0x87.3 
.................... #bit trisc2   =0x87.2 
.................... #bit trisc1   =0x87.1 
.................... #bit trisc0   =0x87.0 
....................  
.................... #bit trisd7   =0x88.7 
.................... #bit trisd6   =0x88.6 
.................... #bit trisd5   =0x88.5 
.................... #bit trisd4   =0x88.4 
.................... #bit trisd3   =0x88.3 
.................... #bit trisd2   =0x88.2 
.................... #bit trisd1   =0x88.1 
.................... #bit trisd0   =0x88.0 
....................  
.................... #bit trise2   =0x89.2 
.................... #bit trise1   =0x89.1 
.................... #bit trise0   =0x89.0 
....................  
.................... // INTCON Bits for C 
.................... #bit gie    = 0x0b.7 
.................... #bit peie = 0x0b.6 
.................... #bit tmr0ie = 0x0b.5 
.................... #bit int0ie = 0x0b.4 
.................... #bit rbie   = 0x0b.3 
.................... #bit tmr0if    = 0x0b.2 
.................... #bit int0if    = 0x0b.1 
.................... #bit rbif    = 0x0b.0 
....................  
.................... // PIR1 for C 
.................... #bit pspif  = 0x0c.7 
.................... #bit adif    = 0x0c.6 
.................... #bit rcif    = 0x0c.5 
.................... #bit txif    = 0x0c.4 
.................... #bit sspif    = 0x0c.3 
.................... #bit ccp1if    = 0x0c.2 
.................... #bit tmr2if    = 0x0c.1 
.................... #bit tmr1if    = 0x0c.0 
....................  
.................... //PIR2 for C 
.................... #bit cmif    = 0x0d.6 
.................... #bit eeif    = 0x0d.4 
.................... #bit bclif  = 0x0d.3 
.................... #bit ccp2if    = 0x0d.0 
....................  
.................... // PIE1 for C 
.................... #bit adie    = 0x8c.6 
.................... #bit rcie    = 0x8c.5 
.................... #bit txie    = 0x8c.4 
.................... #bit sspie    = 0x8c.3 
.................... #bit ccp1ie    = 0x8c.2 
.................... #bit tmr2ie    = 0x8c.1 
.................... #bit tmr1ie    = 0x8c.0 
....................  
.................... //PIE2 for C 
.................... #bit osfie    = 0x8d.7 
.................... #bit cmie    = 0x8d.6 
.................... #bit eeie   = 0x8d.4 
....................  
.................... // OPTION Bits 
.................... #bit not_rbpu   = 0x81.7 
.................... #bit intedg     = 0x81.6 
.................... #bit t0cs       = 0x81.5 
.................... #bit t0se       = 0x81.4 
.................... #bit psa        = 0x81.3 
.................... #bit ps2        = 0x81.2 
.................... #bit ps1        = 0x81.1 
.................... #bit ps0        = 0x81.0 
....................  
.................... // EECON1 Bits 
.................... #bit eepgd   = 0x18c.7 
.................... #bit free      = 0x18C.4 
.................... #bit wrerr     = 0x18C.3 
.................... #bit wren       = 0x18C.2 
.................... #bit wr         = 0x18C.1 
.................... #bit rd         = 0x18C.0 
....................  
.................... //ADCON0 
.................... #bit CHS0    =0x1F.3 
.................... #bit CHS1    =0x1F.4 
.................... #bit CHS2    =0x1F.5 
....................  
.................... #FUSES NOWDT, HS, PUT, NOPROTECT, 
.................... #use i2c(Master, sda = PIN_C4, scl=PIN_C3) //Khai bao dung I2C 
*
0018:  MOVLW  08
0019:  MOVWF  78
001A:  NOP
001B:  BCF    07.3
001C:  BCF    20.3
001D:  MOVF   20,W
001E:  BSF    03.5
001F:  MOVWF  07
0020:  NOP
0021:  BCF    03.5
0022:  RLF    23,F
0023:  BCF    07.4
0024:  BTFSS  03.0
0025:  GOTO   02C
0026:  BSF    20.4
0027:  MOVF   20,W
0028:  BSF    03.5
0029:  MOVWF  07
002A:  GOTO   030
002B:  BCF    03.5
002C:  BCF    20.4
002D:  MOVF   20,W
002E:  BSF    03.5
002F:  MOVWF  07
0030:  NOP
0031:  BCF    03.5
0032:  BSF    20.3
0033:  MOVF   20,W
0034:  BSF    03.5
0035:  MOVWF  07
0036:  BCF    03.5
0037:  BTFSS  07.3
0038:  GOTO   037
0039:  DECFSZ 78,F
003A:  GOTO   01A
003B:  NOP
003C:  BCF    07.3
003D:  BCF    20.3
003E:  MOVF   20,W
003F:  BSF    03.5
0040:  MOVWF  07
0041:  NOP
0042:  BCF    03.5
0043:  BSF    20.4
0044:  MOVF   20,W
0045:  BSF    03.5
0046:  MOVWF  07
0047:  NOP
0048:  NOP
0049:  BCF    03.5
004A:  BSF    20.3
004B:  MOVF   20,W
004C:  BSF    03.5
004D:  MOVWF  07
004E:  BCF    03.5
004F:  BTFSS  07.3
0050:  GOTO   04F
0051:  CLRF   78
0052:  NOP
0053:  BTFSC  07.4
0054:  BSF    78.0
0055:  BCF    07.3
0056:  BCF    20.3
0057:  MOVF   20,W
0058:  BSF    03.5
0059:  MOVWF  07
005A:  BCF    03.5
005B:  BCF    07.4
005C:  BCF    20.4
005D:  MOVF   20,W
005E:  BSF    03.5
005F:  MOVWF  07
0060:  BCF    03.5
0061:  RETURN
0062:  MOVLW  08
0063:  MOVWF  24
0064:  MOVF   77,W
0065:  MOVWF  25
0066:  BSF    20.4
0067:  MOVF   20,W
0068:  BSF    03.5
0069:  MOVWF  07
006A:  NOP
006B:  BCF    03.5
006C:  BSF    20.3
006D:  MOVF   20,W
006E:  BSF    03.5
006F:  MOVWF  07
0070:  BCF    03.5
0071:  BTFSS  07.3
0072:  GOTO   071
0073:  BTFSC  07.4
0074:  BSF    03.0
0075:  BTFSS  07.4
0076:  BCF    03.0
0077:  RLF    78,F
0078:  NOP
0079:  BCF    20.3
007A:  MOVF   20,W
007B:  BSF    03.5
007C:  MOVWF  07
007D:  BCF    03.5
007E:  BCF    07.3
007F:  DECFSZ 24,F
0080:  GOTO   066
0081:  BSF    20.4
0082:  MOVF   20,W
0083:  BSF    03.5
0084:  MOVWF  07
0085:  NOP
0086:  BCF    03.5
0087:  BCF    07.4
0088:  MOVF   25,W
0089:  BTFSC  03.2
008A:  GOTO   090
008B:  BCF    20.4
008C:  MOVF   20,W
008D:  BSF    03.5
008E:  MOVWF  07
008F:  BCF    03.5
0090:  NOP
0091:  BSF    20.3
0092:  MOVF   20,W
0093:  BSF    03.5
0094:  MOVWF  07
0095:  BCF    03.5
0096:  BTFSS  07.3
0097:  GOTO   096
0098:  NOP
0099:  BCF    07.3
009A:  BCF    20.3
009B:  MOVF   20,W
009C:  BSF    03.5
009D:  MOVWF  07
009E:  NOP
009F:  BCF    03.5
00A0:  BCF    07.4
00A1:  BCF    20.4
00A2:  MOVF   20,W
00A3:  BSF    03.5
00A4:  MOVWF  07
00A5:  BCF    03.5
00A6:  BCF    0A.3
00A7:  BCF    0A.4
00A8:  GOTO   11F (RETURN)
.................... #use DELAY(clock=20000000) 
*
0004:  MOVLW  23
0005:  MOVWF  04
0006:  BCF    03.7
0007:  MOVF   00,W
0008:  BTFSC  03.2
0009:  GOTO   017
000A:  MOVLW  06
000B:  MOVWF  78
000C:  CLRF   77
000D:  DECFSZ 77,F
000E:  GOTO   00D
000F:  DECFSZ 78,F
0010:  GOTO   00C
0011:  MOVLW  7B
0012:  MOVWF  77
0013:  DECFSZ 77,F
0014:  GOTO   013
0015:  DECFSZ 00,F
0016:  GOTO   00A
0017:  RETURN
.................... #use rs232(baud=9600,xmit=pin_c6,rcv=pin_c7)  
.................... int16 temp; //Bien temp luu gia tri nhiet do 
.................... //int16 a = 230; 
.................... void main() 
.................... { 
*
00A9:  CLRF   04
00AA:  BCF    03.7
00AB:  MOVLW  1F
00AC:  ANDWF  03,F
00AD:  BSF    03.5
00AE:  BSF    03.6
00AF:  BSF    07.3
00B0:  MOVLW  08
00B1:  BCF    03.6
00B2:  MOVWF  19
00B3:  MOVLW  02
00B4:  MOVWF  1A
00B5:  MOVLW  A6
00B6:  MOVWF  18
00B7:  MOVLW  90
00B8:  BCF    03.5
00B9:  MOVWF  18
00BA:  BSF    03.5
00BB:  BSF    03.6
00BC:  MOVF   09,W
00BD:  ANDLW  C0
00BE:  MOVWF  09
00BF:  BCF    03.6
00C0:  BCF    1F.4
00C1:  BCF    1F.5
00C2:  MOVLW  00
00C3:  BSF    03.6
00C4:  MOVWF  08
00C5:  BCF    03.5
00C6:  CLRF   07
00C7:  CLRF   08
00C8:  CLRF   09
.................... while(true){ 
.................... delay_ms(100); 
*
00CC:  MOVLW  64
00CD:  MOVWF  23
00CE:  CALL   004
.................... i2c_start(); //Bat dau qua trinh giao tiep 
00CF:  BSF    20.4
00D0:  MOVF   20,W
00D1:  BSF    03.5
00D2:  MOVWF  07
00D3:  MOVLW  04
00D4:  MOVWF  77
00D5:  DECFSZ 77,F
00D6:  GOTO   0D5
00D7:  BCF    03.5
00D8:  BSF    20.3
00D9:  MOVF   20,W
00DA:  BSF    03.5
00DB:  MOVWF  07
00DC:  MOVLW  03
00DD:  MOVWF  77
00DE:  DECFSZ 77,F
00DF:  GOTO   0DE
00E0:  BCF    03.5
00E1:  BCF    07.4
00E2:  BCF    20.4
00E3:  MOVF   20,W
00E4:  BSF    03.5
00E5:  MOVWF  07
00E6:  MOVLW  04
00E7:  MOVWF  77
00E8:  DECFSZ 77,F
00E9:  GOTO   0E8
00EA:  BCF    03.5
00EB:  BCF    07.3
00EC:  BCF    20.3
00ED:  MOVF   20,W
00EE:  BSF    03.5
00EF:  MOVWF  07
.................... i2c_write(0x90); //Dia chi cua TC74 
00F0:  MOVLW  90
00F1:  BCF    03.5
00F2:  MOVWF  23
00F3:  CALL   018
.................... i2c_write(0x00); //Bat dau doc 
00F4:  CLRF   23
00F5:  CALL   018
.................... i2c_start(); 
00F6:  BSF    20.4
00F7:  MOVF   20,W
00F8:  BSF    03.5
00F9:  MOVWF  07
00FA:  MOVLW  04
00FB:  MOVWF  77
00FC:  DECFSZ 77,F
00FD:  GOTO   0FC
00FE:  BCF    03.5
00FF:  BSF    20.3
0100:  MOVF   20,W
0101:  BSF    03.5
0102:  MOVWF  07
0103:  MOVLW  03
0104:  MOVWF  77
0105:  DECFSZ 77,F
0106:  GOTO   105
0107:  BCF    03.5
0108:  BTFSS  07.3
0109:  GOTO   108
010A:  BCF    07.4
010B:  BCF    20.4
010C:  MOVF   20,W
010D:  BSF    03.5
010E:  MOVWF  07
010F:  MOVLW  04
0110:  MOVWF  77
0111:  DECFSZ 77,F
0112:  GOTO   111
0113:  BCF    03.5
0114:  BCF    07.3
0115:  BCF    20.3
0116:  MOVF   20,W
0117:  BSF    03.5
0118:  MOVWF  07
.................... i2c_write(0x91); //Truy xuat gia tri nhiet do 
0119:  MOVLW  91
011A:  BCF    03.5
011B:  MOVWF  23
011C:  CALL   018
.................... temp = i2c_read(0); //Bat dau qua trinh doc va gan bao bien temp 
011D:  CLRF   77
011E:  GOTO   062
011F:  CLRF   22
0120:  MOVF   78,W
0121:  MOVWF  21
.................... i2c_stop(); //Ket thuc qua trinh doc 
0122:  BCF    20.4
0123:  MOVF   20,W
0124:  BSF    03.5
0125:  MOVWF  07
0126:  NOP
0127:  BCF    03.5
0128:  BSF    20.3
0129:  MOVF   20,W
012A:  BSF    03.5
012B:  MOVWF  07
012C:  BCF    03.5
012D:  BTFSS  07.3
012E:  GOTO   12D
012F:  MOVLW  04
0130:  MOVWF  77
0131:  DECFSZ 77,F
0132:  GOTO   131
0133:  GOTO   134
0134:  NOP
0135:  BSF    20.4
0136:  MOVF   20,W
0137:  BSF    03.5
0138:  MOVWF  07
0139:  MOVLW  04
013A:  MOVWF  77
013B:  DECFSZ 77,F
013C:  GOTO   13B
....................  
.................... putc(temp);    
013D:  BCF    03.5
013E:  MOVF   21,W
013F:  BTFSS  0C.4
0140:  GOTO   13F
0141:  MOVWF  19
.................... DELAY_MS(100); 
0142:  MOVLW  64
0143:  MOVWF  23
0144:  CALL   004
.................... } 
0145:  GOTO   0CC
.................... } 
....................  
....................  
.................... /* 
.................... #include <16F887.h> 
.................... #include <def_887.h> 
.................... #device *=16 ADC=10 //Khai bao dung bo ADC 10bit 
.................... #FUSES NOWDT, HS, PUT, NOPROTECT, 
.................... #use DELAY(clock=20000000) 
.................... #use rs232(baud=9600,xmit=pin_c6,rcv=pin_c7)  
.................... int16 adc; //Bien luu gia tri ADC doc duoc 
.................... int16 a = 230; 
.................... void main() 
.................... { 
.................... setup_adc(adc_clock_internal); //Thoi gian lay mau = xung clock IC 
.................... //setup_adc_ports(AN3); 
.................... Set_ADC_channel (3); //Chon chan A3 doc gia tri 
.................... Delay_us(10); //Delay 10us thi moi su dung duoc ham read_ADC 
....................  
.................... while(true){ 
.................... adc = read_adc(); //Doc gia tri ADC và gan vao bien ADC 
.................... printf("%lu", adc);    
.................... DELAY_MS(100); 
.................... } 
.................... } 
.................... */ 
0146:  SLEEP

Configuration Fuses:
   Word  1: 2FE2   HS NOWDT PUT MCLR NOPROTECT NOCPD BROWNOUT IESO FCMEN NOLVP NODEBUG
   Word  2: 3FFF   NOWRT BORV40
